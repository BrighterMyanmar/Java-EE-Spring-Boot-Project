<!doctype html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head th:replace="fragments :: head"></head>

<body>
   <div th:replace="fragments :: nav"></div>
   <div class="container my-5">
      <h1 class="text-center text-info">All Products</h1>
      <div class="col-md-10 offset-md-1">
         <div th:if="${message}">
            <div class="alert alert-success alert-dismissible fade show" role="alert">
               <strong th:text="${message}"></strong>
               <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
         </div>
         <a href="/products/create" class="btn btn-sm btn-primary mb-2">Create <i class="fas fa-plus"></i> </a>
         <table class="table table-bordered">
            <thead>
               <tr class="bg-dark text-white">
                  <th>No</th>
                  <th>Name</th>
                  <th>Brand</th>
                  <th>Price</th>
                  <th>Image</th>
                  <th>Child Cat</th>
                  <th>Sub Cat</th>
                  <th>Category</th>
                  <th>Action</th>
               </tr>
            </thead>
            <tbody>

               <tr th:each="product : ${products}">
                  <td th:text="${product.id}"></td>
                  <td th:text="${product.name}"></td>
                  <td th:text="${product.brand}"></td>
                  <td th:text="${product.price}"></td>
                  <td>
                     <span th:each="image : ${product.images.split(',')}">
                        <img th:src="@{'/uploads/'+${image}}" alt="BM PNG" width="50px">
                     </span>
                  </td>
                  <td th:text="${product.childcat.name}"></td>
                  <td th:text="${product.childcat.subcat.name}"></td>
                  <td th:text="${product.childcat.subcat.category.name}"></td>
                  <td>
                     <a th:href="@{'/products/edit/'+${product.id}}" class="btn btn-warning btn-sm">
                        <i class="fas fa-edit"></i>
                     </a>
                     <a th:href="@{'/products/delete/'+${product.id}}" class="btn btn-danger btn-sm">
                        <i class="fas fa-trash"></i>
                     </a>
                  </td>
               </tr>

            </tbody>
         </table>
      </div>
   </div>


   <div th:replace="fragments :: foot">
   </div>
</body>

</html>